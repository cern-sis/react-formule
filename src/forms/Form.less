@field-error-color: #ff4d4f;
@field-error-bg-color: #fff2f0;

.__Form__ {
  height: 100%;
  fieldset {
    min-width: 0; // prevents overflow of antd Steps component
    border: 0;
  }
  label {
    height: auto !important;
  }

  .ant-form-item-label
    > label.ant-form-item-required:not(
      .ant-form-item-required-mark-optional
    )::before {
    content: unset;
  }

  .ant-form-item-label
    > label.ant-form-item-required:not(
      .ant-form-item-required-mark-optional
    )::after {
    display: inline-block;
    margin-right: 4px;
    color: #477bd3;
    font-size: 14px;
    font-family: SimSun, sans-serif;
    line-height: 1;
    content: "*";
    visibility: visible;
  }

  .nestedObject .nestedObject .nestedObject,
  .nestedObject .nestedObject .nestedObject .nestedObject .nestedObject,
  .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject,
  .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject {
    background-color: #f0f2f5;
    // .ant-form-item-label {
    //   background-color: #ddeafe;
    //   color: slategray;
    // }
  }

  .nestedObject .nestedObject,
  .nestedObject .nestedObject .nestedObject .nestedObject,
  .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject,
  .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject
    .nestedObject {
    background-color: #f6f7f8;
  }

  .layerArrayFieldList {
    .layerListItem {
      &:hover {
        background: rgba(240, 242, 245, 0.5) !important;
        cursor: pointer;
      }
    }
    .layerListItem:last-child {
      margin: 0 !important;
    }
    .ant-list-item-action li {
      padding-right: 0;
    }
    .layerItemError {
      background-color: @field-error-bg-color !important;
      .ant-typography {
        color: @field-error-color;
      }
    }
  }

  .collapseItemError {
    background-color: @field-error-bg-color;
    .ant-collapse-header-text {
      color: @field-error-color;
    }
  }

  .tagsField .ant-form-item-control-input {
    min-height: 0;
    border: 1px solid blue;
  }

  .rc-md-editor annotation {
    display: none;
  }

  .formule-field-modal {
    .ant-modal-content .ant-modal-body {
      margin-top: 20px;
      padding: 10px 0;
    }
  }

  .formule-field-collapsible > .ant-collapse-item {
    > .ant-collapse-header {
      padding-left: 0 !important;
      padding-right: 0 !important;
      padding-top: 0 !important;

      .ant-collapse-expand-icon {
        margin: 0 !important;
      }
    }
    > .ant-collapse-content > .ant-collapse-content-box {
      padding: 0 !important;
    }
  }

  .markdownSpan > p {
    margin: 0;
  }

  .ant-form-item-control-input:has(.markdownSpan) {
    display: unset;
  }

  .formItemTitle:not(:hover) .itemTitleAnchor {
    visibility: hidden;
  }

  .ant-form-item-label label {
    width: 100%;
  }

  @keyframes bounceShadow {
    0% {
      box-shadow: 0 0 1px 5px #1a7fa380;
    }
    15%,
    60% {
      box-shadow: 0 0 1px 10px #1a7fa380;
    }
    100% {
      box-shadow: none;
    }
  }

  .bounceShadow {
    animation: bounceShadow 5s forwards;
  }

  .ant-steps-item-icon {
    border-radius: unset !important;
    .ant-steps-icon {
      font-weight: bold;
    }
  }

  .propKeyCollapse .ant-collapse-content-box {
    fieldset .ant-col .ant-col:last-of-type .ant-form-item:last-of-type {
      margin-bottom: 0;
    }
    > .form-group:last-of-type > .ant-form-item:last-of-type {
      margin-bottom: 0;
    }
  }

  .ant-form-item-label > label::after {
    display: none; // Remove uselss spacing originally used for colon
  }

  &.compact {
    // @compact-font-size: 10pt; // TODO: Or 13px?
    // font-size: 50%; // All child elements' font sizes are halved
    .ant-form-item {
      // padding-top: 0px;
      margin-bottom: 1px;
      // margin-bottom: 6px;    // TODO: check if needed
      // padding-top: 0;
      // padding-bottom: 0;
      // background-color: #ff4d4f;
    }
    .ant-form-item-label {
      padding-bottom: 0px;
    }

    .formItemTitle {
      background-color: #bfdfff;
    }

    .formItemTitle,
    .ant-form-item label {
      background-color: #bfdfff;
    }

    // fieldset {   // TODO: this ruins a bit the layout making arrays overflow left and right slightly...
    //   padding: 0;
    //   margin: 0;
    // }

    // .ant-input,
    // .ant-picker,
    // .ant-input-number-input {
    //   min-height: 28px; // TODO: needed?
    //   padding: 0 8px;
    //   font-size: @compact-font-size;
    // }

    // .tagsField .ant-input {
    //   min-height: unset;
    // }

    // .ant-picker-input > input {
    //   font-size: @compact-font-size;
    // }

    // .ant-form-item-label > label {
    // font-size: 13px;
    // padding: 0;
    // }
    // .ant-form-item-control-input {
    // min-height: 28px;
    // }
    .ant-input-suffix {
      // TODO: can be replaced by size="small" in uri buttons, but it's a pixel too big
      // height: 28px; // TODO: verify if we need it, in priciple it causes alignment issues
      // padding: 0;
      .ant-btn {
        height: 20px;
        width: 20px;
        // font-size: @compact-font-size;
      }
    }
    // .ant-input-suffix {
    //   margin-right: 2px;
    // }

    // .ant-switch {
    //   min-width: 32px;
    //   height: 18px;
    //   // line-height: 18px;
    //   .ant-switch-handle {
    //     width: 14px;
    //     height: 14px;
    //     // top: 2px;
    //     // left: 2px;
    //   }
    //   &.ant-switch-checked .ant-switch-handle {
    //     left: calc(100% - 16px);
    //   }
    //   .ant-switch-inner {
    //     font-size: 12px;
    //     padding: 0 4px;
    //   }
    // }

    .ant-collapse-content-box {
      padding: 1px 8px !important;
    }

    // .ant-btn {
    //   height: 28px;
    //   font-size: @compact-font-size;
    // }

    .ant-upload-list {
      .ant-upload {
        padding: 0;
        margin: 0;
        height: 60px !important;
        width: 60px !important;
      }
      .ant-upload-list-item-container {
        width: 60px !important;
        height: 60px !important;
        .ant-upload-list-item-thumbnail {
          height: 45px !important;
        }
        .ant-upload-list-item-name {
          display: none !important;
        }
      }
    }

    .ant-steps-item-content {
      margin-top: 2px;
    }

    .ant-menu-item {
      height: 28px !important;
      padding: 8px !important;
    }
  }
}

// .ant-tooltip code {
//   background-color: lightblue;
//   color: black;
//   padding: 1px 2px;
//   border-radius: 2px;
//   // border: 1px solid darkblue;
// }

.tabItemError {
  background-color: @field-error-bg-color !important;
  color: @field-error-color !important;
}

.scrollableTabs .ant-tabs-content-holder {
  overflow-y: auto;
}

.gradientBorder:hover {
  border-image: linear-gradient(45deg, rgb(185, 26, 234), rgb(21, 67, 181)) 1;
  border-style: solid;
  outline: none;
}

.gradientBorder:focus {
  box-shadow:
    0 0 5px rgba(185, 26, 234, 0.5),
    0 0 5px rgba(21, 67, 181, 0.5) !important;
}
